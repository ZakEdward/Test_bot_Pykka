# Telegram Bot: Камень, Ножницы, Бумага (с использованием акторной модели)
Этот проект представляет собой Telegram-бота для игры "Камень, Ножницы, Бумага", реализованный с использованием акторной
модели в Python. Проект создан для изучения и демонстрации возможностей библиотеки Pykka , которая позволяет организовать 
асинхронное взаимодействие между компонентами через акторы.

## Описание
Бот позволяет пользователям Telegram играть в классическую игру "Камень, Ножницы, Бумага".
Каждый игрок регистрируется в игре, выбирает один из вариантов ("камень", "ножницы" или "бумага"), и бот определяет победителя на основе правил игры.

## Особенности:
* **Акторная модель** : Используется Pykka для управления состоянием каждого игрока через акторы.
* **Модульность** : Код разделён на классы, каждый из которых выполняет свою задачу (управление игроками, логика игры, взаимодействие с Telegram API).
* **SOLID** : Реализовано в соответствии с принципами объектно-ориентированного программирования и SOLID.
* **Дружелюбный интерфейс** : Бот отправляет персонализированные сообщения, используя имена пользователей.

## Установка и запуск
### Предварительные требования
* Python 3.8+
### Библиотеки:
* pykka — для реализации акторной модели.
* pyTelegramBotAPI — для взаимодействия с Telegram API.

### Установите зависимости с помощью pip:

```bash
pip install pykka pyTelegramBotAPI
```
### Настройка
* Создайте бота в Telegram с помощью @BotFather и получите токен API.
* Замените значение переменной API_TOKEN в файле main.py на ваш токен:

```python
API_TOKEN = 'YOUR_BOT_API_TOKEN'
```
### Запуск
* Запустите бота, выполнив команду:

```bash
python main.py
```

## Как играть
1. Начните диалог с ботом и отправьте команду **/start**, чтобы получить приветственное сообщение.
2. Используйте команду **/join**, чтобы зарегистрироваться в игре.
3. После регистрации отправьте одно из трёх слов: **камень, ножницы или бумага.**
4. Когда найдётся второй игрок, бот определит победителя и отправит результат.

## Структура проекта
**Проект организован в соответствии с принципами модульности и SOLID:**

* **Player** : Класс, отвечающий за состояние одного игрока (ID, имя, выбор).
* **Game** : Класс, реализующий логику игры ("камень, ножницы, бумага").
* **ActorManager** : Управляет акторами Pykka, которые представляют игроков.
* **BotManager** : Отвечает за взаимодействие с Telegram API и координацию игры.
* **main.py** : Точка входа в приложение.

## Цели проекта
**Этот проект был создан для:**

    Изучения акторной модели в Python с использованием библиотеки Pykka.
    Практики принципов SOLID и модульного программирования.
    Реализации реального приложения с использованием Telegram API.

# Тестирование
Проект содержит набор тестов для обеспечения корректности работы ключевых компонентов. Тесты написаны с использованием библиотеки **pytest** и покрывают следующие аспекты:

## 1. Типы тестов
### Юнит-тесты :
- Проверяют работу отдельных компонентов (например, классов Player и Game) изолированно друг от друга.  

Расположены в файлах:

* tests/test_player.py
* tests/test_game.py

### Интеграционные тесты :
- Проверяют взаимодействие между компонентами (например, акторы PlayerActor и ActorManager).  

Расположены в файле:

* tests/test_actors.py

## 2. Как запустить тесты

### Для запуска тестов выполните следующие шаги:

- **Установите зависимости**

```bash
pip install -r requirements.txt
```

- **Запустите pytest**   
    
Запустите тесты из корневой директории проекта:
```bash
python -m pytest tests/
```

## 3. Покрытие тестов
### Тесты покрывают следующие компоненты:

* Логику игры (Game.calculate_winner).
* Управление состоянием игрока (Player.set_choice, Player.get_choice).
* Взаимодействие акторов (PlayerActor, ActorManager).
